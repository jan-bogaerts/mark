# MarkdownCode > components > main window
[]
# MarkdownCode > components > toolbar
[]
# MarkdownCode > components > toolbar > home
[{"class_name": "UndoService", "value": "", "source": "# MarkdownCode > services > Undo service"}, {"class_name": "BuildService", "value": "", "source": "# MarkdownCode > services > build service"}]
# MarkdownCode > components > toolbar > home > file section
[{"class_name": "ProjectService", "value": "- The project service is used to load a file when the 'open' button is clicked.\n- The 'save' button is enabled when the project service has a filename for the project.\n- The project-service 'save' function is called with filename as a parameter if the user provides a valid filename.\n- The project service 'save' function is called without a parameter if the project service already has a filename.\n- The project-service is asked to save the project to a new location if the user selects a file in the 'save as' function.\n- The project service is asked to update the auto-save state when the 'auto-save' button is toggled.\n- The toggle button's state follows that of the project service's auto-save state.", "source": "# MarkdownCode > services > project service"}, {"class_name": "UndoService", "value": "- The project's undo-service has data in the undo list, which is checked when creating a new project. If there are changes, the user is asked to save first.\n- The undo service has undo data, which is used to enable the 'save' button. This indicates that the project has changed since the last save.\n- The undo service has undo data, which is used to enable the 'save as' button. This indicates that the project has changed since the last save.", "source": "# MarkdownCode > services > Undo service"}, {"class_name": "DialogService", "value": "", "source": "# MarkdownCode > services > dialog service"}]
# MarkdownCode > components > toolbar > home > edit section
[{"class_name": "SelectionService", "value": "- Cut: a button to initiate the cut command of the selection service, enabled when the selection service has any data marked as selected.\n- Copy: a button to initiate the copy command of the selection service, enabled when the selection service has any data marked as selected.\n- Paste: a button to initiate the paste command of the selection service, enabled when the clipboard contains text data.\n- Delete: a button to initiate the delete command of the selection service, enabled when the selection service has any data marked as selected.\n- Clear selection: a button to clear the current selection buffer, enabled when the selection service has any data marked as selected.", "source": "# MarkdownCode > services > Selection service"}]
# MarkdownCode > components > toolbar > home > undo section
[{"class_name": "UndoService", "value": "- The undo-section component contains actions that the undo / redo service can perform.\n- Undo: a button to undo the last action, performed by the current project's undo-service\n  - Enabled when the project's undo-service has undo actions\n- Redo: a button to redo the last action, preformed by the project's undo service.\n  - Enabled when the undo-service has redo actions", "source": "# MarkdownCode > services > Undo service"}, {"class_name": "ThemeService", "value": "", "source": "# MarkdownCode > services > Theme service"}, {"class_name": "ProjectService", "value": "", "source": "# MarkdownCode > services > project service"}]
# MarkdownCode > components > toolbar > home > build section
[{"class_name": "GptService", "value": "- The GPT-service's list is used to check if the result-cache of any of the services has an out-of-date result fragment or missing result fragments. This check enables the \"all\" action in the build-section component.\n- The GPT-service's list is also used to check if the selected fragment is out-of-date or missing in any of the result-caches. This check enables the \"code for active topic\" action in the build-section component.", "source": "# MarkdownCode > services > gpt service"}, {"class_name": "BuildService", "value": "- The build-section component contains actions that the build-service can perform.\n- The build-service supports the following actions:\n  - All: a button to start rendering all the code for the entire project.\n  - Code for active topic: a button to start rendering all the code files for the currently active fragment.\n  - Active topic in active prompt.", "source": "# MarkdownCode > services > build service"}, {"class_name": "ProjectService", "value": "", "source": "# MarkdownCode > services > project service"}, {"class_name": "ResultCacheService", "value": "", "source": "# MarkdownCode > services > result-cache service"}]
# MarkdownCode > components > toolbar > format
[]
# MarkdownCode > components > toolbar > format > style section
[{"class_name": "ProjectService", "value": "", "source": "# MarkdownCode > services > project service"}, {"class_name": "SelectionService", "value": "- The selection-service is used to assign a different formatting style to the currently selected text when a button is pressed.\n- The selection-service is monitored for changes in the currently selected text.\n- Whenever the text selection is changed, the state of the toggle buttons is updated to reflect the style of the currently selected text.\n- The selection service provides a method for retrieving the style of the currently selected text.", "source": "# MarkdownCode > services > Selection service"}, {"class_name": "UndoService", "value": "", "source": "# MarkdownCode > services > Undo service"}, {"class_name": "PositionTrackingService", "value": "", "source": "# MarkdownCode > services > position-tracking service"}]
# MarkdownCode > components > toolbar > format > paragraph section
[{"class_name": "SelectionService", "value": "- The SelectionService performs the action of increasing the indent of the current line or selection.\n- The SelectionService performs the action of decreasing the indent of the current line or selection.", "source": "# MarkdownCode > services > Selection service"}, {"class_name": "UndoService", "value": "", "source": "# MarkdownCode > services > Undo service"}]
# MarkdownCode > components > toolbar > format > font section
[{"class_name": "SelectionService", "value": "- The text selection is changed in the selection-service.\n- The state of the toggle buttons is updated to reflect the state of the selected text when the text selection is changed in the selection-service.", "source": "# MarkdownCode > services > Selection service"}, {"class_name": "PositionTrackingService", "value": "", "source": "# MarkdownCode > services > position-tracking service"}]
# MarkdownCode > components > toolbar > preferences
[]
# MarkdownCode > components > toolbar > preferences > GPT section
[{"class_name": "DialogService", "value": "", "source": "# MarkdownCode > services > dialog service"}, {"class_name": "ProjectService", "value": "", "source": "# MarkdownCode > services > project service"}, {"class_name": "SelectionService", "value": "", "source": "# MarkdownCode > services > Selection service"}, {"class_name": "UndoService", "value": "", "source": "# MarkdownCode > services > Undo service"}, {"class_name": "PositionTrackingService", "value": "", "source": "# MarkdownCode > services > position-tracking service"}, {"class_name": "GptService", "value": "- The GPT-section component contains actions related to the configuration of the GPT service.\n- The list of available models used to populate the combobox comes from the gpt-service.\n- The initial value for the combobox is obtained from the gpt-service.\n- When the value is changed, it is saved to the gpt-service.", "source": "# MarkdownCode > services > gpt service"}, {"class_name": "BuildService", "value": "", "source": "# MarkdownCode > services > build service"}, {"class_name": "CompressService", "value": "", "source": "# MarkdownCode > services > compress service"}, {"class_name": "ThemeService", "value": "", "source": "# MarkdownCode > services > Theme service"}]
# MarkdownCode > components > toolbar > preferences > open-ai configuration dialog
[{"class_name": "DialogService", "value": "", "source": "# MarkdownCode > services > dialog service"}, {"class_name": "GptService", "value": "- The current value of the api-key is retrieved from the gpt-service and shown in the input box when the dialog box opens.\n- The new api-key value is saved to the gpt-service when the 'ok' button is clicked.", "source": "# MarkdownCode > services > gpt service"}]
# MarkdownCode > components > toolbar > preferences > view section
[{"class_name": "SelectionService", "value": "", "source": "# MarkdownCode > services > Selection service"}, {"class_name": "ThemeService", "value": "- ThemeService manages the currently selected theme.\n- The preferred color mode (light or dark) is linked to the value of the ThemeService.\n- The selected font for the markdown text is linked to the value of the ThemeService.\n- The selected font size for the markdown text is also linked to the value of the ThemeService.", "source": "# MarkdownCode > services > Theme service"}]
# MarkdownCode > components > body
[]
# MarkdownCode > components > body > horizontal splitter
[]
# MarkdownCode > components > body > vertical splitter
[]
# MarkdownCode > components > body > editor
[{"class_name": "ProjectService", "value": "- The text for the monaco editor is retrieved from the project service when the editor is loaded.\n- The project service is monitored for changes to the text, for example when another project is loaded.\n- When the user changes the text in the monaco editor, the new text is saved to the project service.", "source": "# MarkdownCode > services > project service"}, {"class_name": "ThemeService", "value": "- Theme (light or dark), font & font-size are retrieved from the theme-service and applied to the monaco editor.", "source": "# MarkdownCode > services > Theme service"}, {"class_name": "SelectionService", "value": "- The SelectionService stores a reference to the monaco editor when the onDidFocusEditorWidget event is triggered.\n- If the onDidBlurEditorWidget event is triggered and the SelectionService currently references this monaco editor, null is assigned to the SelectionService's editor reference.\n- If the onDidChangeCursorPosition event is triggered and the SelectionService currently references this monaco editor, the position-tracking service is updated with the new cursor position.\n- If the onDidChangeCursorSelection event is triggered and the SelectionService currently references this monaco editor, the subscribers of the SelectionService are informed that the selection has changed.", "source": "# MarkdownCode > services > Selection service"}, {"class_name": "PositionTrackingService", "value": "- onDidChangeCursorPosition: if the selection service currently references this monaco editor, update the position-tracking service with the new cursor position", "source": "# MarkdownCode > services > position-tracking service"}]
# MarkdownCode > components > body > outline
[{"class_name": "ProjectService", "value": "- ProjectService raises an event to indicate that a new project was loaded\n- Project data is retrieved from the ProjectService and converted into a tree structure\n- ProjectService raises an event that a data item was removed\n- ProjectService raises an event that a data item was added or (multiple) item(s) were changed\n- The component monitors the ProjectService for these changes", "source": "# MarkdownCode > services > project service"}, {"class_name": "BuildService", "value": "", "source": "# MarkdownCode > services > build service"}, {"class_name": "SelectionService", "value": "", "source": "# MarkdownCode > services > Selection service"}, {"class_name": "LineParser", "value": "", "source": "# MarkdownCode > services > line parser"}, {"class_name": "PositionTrackingService", "value": "- When the user selects a tree item, the key of the first selected item is assigned to the position-tracking service's activeFragment\n- This component monitors the position-tracking service for changes to the currently selected text-fragment.\n  - When the position changes, set the tree's selectedKeys property to the key of the selected text-fragment so that the corresponding tree node becomes selected.", "source": "# MarkdownCode > services > position-tracking service"}]
# MarkdownCode > components > body > results view
[{"class_name": "ProjectService", "value": "", "source": "# MarkdownCode > services > project service"}, {"class_name": "GptService", "value": "- The user can view the results that were generated by the transformers that were registered with the GptService, for the currently selected text block.\n- For each transformer in the transformers list provided by the GptService, the results-view component creates a tab.", "source": "# MarkdownCode > services > gpt service"}, {"class_name": "BuildService", "value": "", "source": "# MarkdownCode > services > build service"}, {"class_name": "SelectionService", "value": "", "source": "# MarkdownCode > services > Selection service"}, {"class_name": "ResultCacheService", "value": "", "source": "# MarkdownCode > services > result-cache service"}, {"class_name": "CompressService", "value": "", "source": "# MarkdownCode > services > compress service"}]
# MarkdownCode > components > body > results view > results view tab
[{"class_name": "UndoService", "value": "", "source": "# MarkdownCode > services > Undo service"}, {"class_name": "ThemeService", "value": "- Theme (light or dark), font & font-size are retrieved from the theme-service and applied to the monaco editor.", "source": "# MarkdownCode > services > Theme service"}, {"class_name": "SelectionService", "value": "- onDidFocusEditorWidget: store a reference to the monaco editor in the selection service to indicate so that it can work with the correct editor.\n- onDidBlurEditorWidget: if the selection service currently references this monaco editor, assign null to the selection service's editor reference.\n- onDidChangeCursorSelection: if the selection service currently references this monaco editor, inform the subscribers of the selection-service that the selection has changed.", "source": "# MarkdownCode > services > Selection service"}, {"class_name": "LineParser", "value": "", "source": "# MarkdownCode > services > line parser"}, {"class_name": "PositionTrackingService", "value": "- The component monitors the position-tracking service for changes to the currently selected text-fragment.\n  - When this changes update the key value and retrieve the text from the result-cache and show in the monaco-editor.", "source": "# MarkdownCode > services > position-tracking service"}, {"class_name": "ResultCacheService", "value": "- The text for the monaco editor is retrieved from the result-cache of the transformer that is assigned to this component using the currently assigned key, if available.\n- The results-cache of the transformer is monitored for changes in the result (only for changes in the result with the current key).\n- If the result is marked as out-of-date, show the text as grayed-out.\n- If the result is marked as 'overwritten', show the text in red.\n- When the user changes the text in the monaco editor, the new text is saved to the result-cache of the transformer, marked as overwritten.\n- When the position-tracking service changes the currently selected text-fragment, update the key value and retrieve the text from the result-cache and show in the monaco-editor.", "source": "# MarkdownCode > services > result-cache service"}]
# MarkdownCode > components > body > results view > results view context menu
[{"class_name": "DialogService", "value": "", "source": "# MarkdownCode > services > dialog service"}, {"class_name": "ProjectService", "value": "", "source": "# MarkdownCode > services > project service"}, {"class_name": "UndoService", "value": "", "source": "# MarkdownCode > services > Undo service"}, {"class_name": "GptService", "value": "- The gpt-service provides a list of available models for the menu items in the 'model for all' and 'model for fragment' options.\n- The gpt-service is used to get the value for the current model, registered under the name of the current transformer.\n- The gpt-service is asked to update the model-name of the transformer related to the results-view when another model is selected.\n- The gpt-service is used to get the value for the current model, registered under the name of the current transformer and current key.\n- The gpt-service is asked to update the model-name of the transformer and the current title when another model is selected.", "source": "# MarkdownCode > services > gpt service"}, {"class_name": "BuildService", "value": "", "source": "# MarkdownCode > services > build service"}, {"class_name": "ThemeService", "value": "", "source": "# MarkdownCode > services > Theme service"}, {"class_name": "SelectionService", "value": "", "source": "# MarkdownCode > services > Selection service"}, {"class_name": "LineParser", "value": "", "source": "# MarkdownCode > services > line parser"}, {"class_name": "PositionTrackingService", "value": "", "source": "# MarkdownCode > services > position-tracking service"}, {"class_name": "ResultCacheService", "value": "", "source": "# MarkdownCode > services > result-cache service"}, {"class_name": "CompressService", "value": "", "source": "# MarkdownCode > services > compress service"}]
# MarkdownCode > services > dialog service
[]
# MarkdownCode > services > Theme service
[]
# MarkdownCode > services > project service
[]
# MarkdownCode > services > Selection service
[]
# MarkdownCode > services > Undo service
[]
# MarkdownCode > services > line parser
[{"class_name": "ProjectService", "value": "- The ProjectService stores the text-fragments updated by the line-parser service.\n- The ProjectService is asked by the line-parser service to insert a new text-fragment in its list of text-fragments at a specified index.\n- The line-parser service retrieves a text-fragment from the ProjectService at a specific position 'idx'.\n- The ProjectService is asked by the line-parser service to raise an event indicating that the key of a text-fragment has changed, providing the old & new key as parameters.\n- The ProjectService is asked by the line-parser service to delete a specific text-fragment.", "source": "# MarkdownCode > services > project service"}]
# MarkdownCode > services > position-tracking service
[{"class_name": "SelectionService", "value": "- The SelectionService is responsible for tracking the text-fragment that the user is currently working on.\n- The SelectionService keeps track of the currently selected line number, the text-fragment related to the currently selected line, and an eventTarget that stores the events which monitor changes in the currently selected text-fragment.\n- The SelectionService provides methods to set the currently selected line. If the new value is different from the current selected line, it gets the related object from the project's data list. If this is a new text-fragment or a line-object whose parent points to a text-fragment that is different from the currently selected text-fragment, then it triggers the on-changed event for all the registered events.", "source": "# MarkdownCode > services > Selection service"}, {"class_name": "UndoService", "value": "", "source": "# MarkdownCode > services > Undo service"}]
# MarkdownCode > services > gpt service
[]
# MarkdownCode > services > result-cache service
[{"class_name": "ProjectService", "value": "- The ProjectService is used as an input by the result-cache-service.\n- The result-cache-service registers an event handler with the ProjectService to monitor when text fragments have changed.\n- The ProjectService is involved in the calculation of the key for the cache. The first part of the key is the key of the project text-fragment which was the primary input for the service.\n- The ProjectService is indirectly involved in the creation of the cache's json file. The last save date of the project file, which is used to verify if the results are still valid or not, is stored in the json file.", "source": "# MarkdownCode > services > project service"}, {"class_name": "SelectionService", "value": "", "source": "# MarkdownCode > services > Selection service"}, {"class_name": "UndoService", "value": "", "source": "# MarkdownCode > services > Undo service"}, {"class_name": "PositionTrackingService", "value": "", "source": "# MarkdownCode > services > position-tracking service"}, {"class_name": "GptService", "value": "", "source": "# MarkdownCode > services > gpt service"}, {"class_name": "BuildService", "value": "", "source": "# MarkdownCode > services > build service"}, {"class_name": "CompressService", "value": "", "source": "# MarkdownCode > services > compress service"}]
# MarkdownCode > services > build service
[{"class_name": "ProjectService", "value": "- ProjectService turns the markdown project data list into source code.\n- It uses a set of gpt-services to iteratively generate conversions on the different text frames.\n- The process starts with the original markdown code and ends with source code files that are stored on disk.\n- To build the project, ProjectService performs several actions.\n- For each text-fragment in the project, it asks the compress service to render its result.", "source": "# MarkdownCode > services > project service"}, {"class_name": "GptService", "value": "- Gpt-services are used to iteratively generate conversions on different text frames.\n- The process starts with the original markdown code and ends with source code files stored on disk.", "source": "# MarkdownCode > services > gpt service"}, {"class_name": "CompressService", "value": "- The CompressService is used to render results for each text-fragment in the project.", "source": "# MarkdownCode > services > compress service"}]
# MarkdownCode > services > compress service
[{"class_name": "GptService", "value": "- The compress service uses the gpt service to make text fragments shorter.\n- The get-result function calls the GPT-service with specific parameters.\n- The gpt service is used to check if it understands the fragment and can be used as input for other processes.\n- The gpt-interface name is `compress`.", "source": "# MarkdownCode > services > gpt service"}, {"class_name": "BuildService", "value": "", "source": "# MarkdownCode > services > build service"}, {"class_name": "ResultCacheService", "value": "- This service uses a result-cache-service to store all the results and keep track of when the build has gone out-of-date.\n- Whenever the get-result function is called, the result-cache is updated.\n- The result of get-result is stored under the same key as the input parameter of get-result.", "source": "# MarkdownCode > services > result-cache service"}]
