# MarkdownCode > components > main window
{"MainWindow": "The 'MainWindow' component is the initial window displayed when the application starts. It includes the following components: Toolbar, positioned at the top of the window, and Body, which occupies the remaining space in the window.", "Toolbar": "Toolbar: positioned at the top of the window.", "Body": "The 'Body' component occupies the remaining space in the main window."}
# MarkdownCode > components > toolbar > preferences
{"PreferencesTab": "PreferencesTab is a UI component that acts as a wrapper, arranging its children in a row. It includes two child components, namely GPT and View, which are sections on the toolbar.", "GPT": "The GPT component is a child component of the preferences-tab component. It represents a section on the toolbar.", "View": "The 'View' component is a child component included in the preferences-tab component. It represents a section on the toolbar."}
# MarkdownCode > components > toolbar > home > undo section
{"UndoSection": "- UndoSection is a UI component that holds actions for the undo/redo service.\n- It includes a button for undoing the last action performed by the current project's undo-service.\n- The undo button is enabled when the project's undo-service has undo actions.\n- It also includes a button for redoing the last action performed by the project's undo-service.\n- The redo button is enabled when the undo-service has redo actions."}
# MarkdownCode > components > toolbar > home
{"HomeTab": "The 'HomeTab' component is a wrapper that arranges its children in a row. It includes the following child components: File section, Edit section, Undo section, and Build section.", "FileSection": "The 'FileSection' component is a child component of the 'HomeTab' component. It is a section that is included within the 'HomeTab' component and is responsible for handling file-related functionalities.", "EditSection": "The 'EditSection' component is a child component included in the home-tab component. It is part of a UI wrapper that arranges its children in a row.", "UndoSection": "The 'UndoSection' component is a child component included in the 'HomeTab' component. It is part of a wrapper that arranges its children in a row.", "BuildSection": "The 'BuildSection' component is a child component of the 'HomeTab' component. It is one of the components included in the 'HomeTab' component."}
# MarkdownCode > components > toolbar > format
{"FormatTab": "The FormatTab component is a wrapper that arranges its children in a row. Its child components include the Style section, Paragraph section, and Font section.", "StyleSection": "The 'StyleSection' component is a child component of the 'format-tab' component. It is a section that is responsible for managing the styles of the content.", "ParagraphSection": "The 'ParagraphSection' component is a child component of the format-tab component. It is responsible for handling the paragraph-related functionalities and settings in the user interface.", "FontSection": "The FontSection component is a child component of the FormatTab component. It is responsible for displaying and managing the font-related options and settings."}
# MarkdownCode > components > toolbar > format > paragraph section
{"ParagraphSection": "The 'ParagraphSection' component is responsible for managing actions related to applying markdown formatting to text. It includes buttons that use icons instead of text. The supported actions in this component are indenting and unindenting. Indenting increases the indent of the current line or selection, while unindenting decreases the indent of the current line or selection.", "IndentButton": "The 'IndentButton' is a UI component that is part of the paragraph-section component. It is a button that uses an icon instead of text. The button is used to apply the indent action to the current line or selection of text.", "UnindentButton": "The 'UnindentButton' is a UI component that is part of the paragraph-section component. It is a button that uses an icon instead of text. The purpose of this button is to perform the action of decreasing the indent of the current line or selection."}
# MarkdownCode > components > toolbar > format > font section
{"FontSection": "FontSection is a UI component that handles actions related to applying markdown formatting to text. It consists of buttons that use icons instead of text. The state of the toggle buttons is updated whenever the text selection changes in the selection-service. The component supports the following actions: Bold, Italic, Underline, and Strike-through. Each action is represented by a toggle button that enables or disables the corresponding formatting on the selected text and displays the current selection state."}
# MarkdownCode > components > toolbar > format > style section
{"StyleSection": "StyleSection is a UI component that handles actions related to applying markdown formatting to text. It consists of buttons with icons as content, arranged in a single row. These buttons assign different formatting styles to the selected text in the selection-service when pressed. Only one button can be selected at a time, and there is no option for no selection. The available formatting styles include heading 1, heading 2, heading 3, heading 4, heading 5, heading 6, paragraph, quote, code, bullet list, and numbered list. The component also monitors the selection-service for changes in the selected text. When the selection changes, the toggle buttons update to reflect the style of the selected text. The selection-service provides a method to retrieve the style of the selected text."}
# MarkdownCode > components > toolbar > preferences > open-ai configuration dialog
{"OpenAiConfigurationDialog": "- OpenAiConfigurationDialog is a modal dialog used to edit the OpenAI configuration settings.\n- The dialog has a title with a short description at the top.\n- It includes an input box for the user to enter their API key.\n- The current API key value is retrieved from the GPT service and displayed in the input box when the dialog opens.\n- At the bottom of the dialog, there are two buttons: \"Cancel\" and \"OK\".\n- \"Cancel\" closes the dialog without saving the value.\n- \"OK\" closes the dialog and saves the new API key value to the GPT service."}
# MarkdownCode > components > toolbar > preferences > view section
{"ViewSection": "- The view-section component handles actions related to configuring the appearance of the application.\n- It supports the following actions:\n  - Theme: A combobox where the user can choose between light or dark mode. This value is linked to the theme-service, which manages the currently selected theme.\n  - Font: A combobox for selecting the font of the markdown text. This value is also linked to the theme-service.\n  - Font size: A combobox for selecting the font size of the markdown text. This value is also linked to the theme-service."}
# MarkdownCode > components > toolbar > preferences > GPT section
{"GPTSection": "- GPT-section component handles GPT service configuration actions.\n- Buttons in the component have icon content, no text.\n- GPT-section component tracks the open state of the 'open-ai configuration dialog'.\n- Supported actions in GPT-section:\n  - Key button: Opens the 'open-ai configuration dialog'.\n    - Icon: Key.\n  - Model: Uses ModelComboBox component to allow user to select default model for open-ai requests.", "OpenAIConfigurationDialog": "The feature list does not provide any specific features related to the 'OpenAIConfigurationDialog' UI component.", "ModelComboBox": "- ModelComboBox component (Select in antd) allows user to select default model for open-ai requests.\n- Available models for the combobox are fetched from gpt-service.\n- Initial value for the combobox is obtained from gpt-service using getDefaultModel function.\n- When value is changed, it is saved to gpt-service using setDefaultModel function."}
# MarkdownCode > components > body > outline
{"Outline": "- The outline component is on the left side of the editor.\n- It displays a tree structure representing the headings in the active project.\n- The project data is retrieved from the project service and converted into a tree structure using the 'convertToTreeData' function when the component is loaded or when a new project is loaded.\n- When a data item is removed or added/changed, the tree structure is updated accordingly.\n- The position-tracking service is monitored for changes to the selected text-fragment, and the corresponding tree node is selected.\n- The tree is displayed with lines.\n- The 'convertToTreeData' function creates a tree structure based on the data items, setting the parent-child relationships based on the level count of each item."}
# MarkdownCode > components > toolbar
{"Toolbar": "The Toolbar component is a key UI element in the application. It has a similar design to applications like MS Access, Excel, Word, or Draw. The toolbar consists of a single integrated menu and toolbar. It utilizes tabs at the top, which are taken from the antd library.\n\nEach component on the toolbar displays a tooltip from the antd library, providing a brief description of the action. The available tabs on the toolbar are Home, Format, and Preferences. The Home tab is shown as the first tab when the application starts.\n\nTo create the JSON structure for all the tabs, including fields for key, label, and children, the structure should be assigned to the items property.", "HomeTab": "", "FormatTab": "", "PreferencesTab": ""}
# MarkdownCode > components > body > results view > results view tab
{"ResultsViewTab": "The ResultsViewTab component is responsible for displaying the results of a transformer for a specific text fragment identified by its key. It utilizes the monaco editor npm package to display the results in various formats such as markdown, JSON data, JavaScript, HTML, or CSS. The monaco editor fills the available width and height of the component.\n\nWhen the ResultsViewTab is loaded, it retrieves the text for the monaco editor from the result-cache of the assigned transformer using the current key. It also retrieves the theme (light or dark), font, and font-size from the theme-service and applies them to the monaco editor.\n\nThe ResultsViewTab component monitors the results-cache of the transformer for changes in the result with the current key. If the result is marked as 'out-of-date' or 'deleted', the text is shown as grayed-out. If the result is marked as 'overwritten', the text is shown in red.\n\nWhen the user changes the text in the monaco editor, the new text is saved to the result-cache of the transformer as overwritten.\n\nThe ResultsViewTab component also monitors several events on the monaco editor. The onDidFocusEditorWidget event stores the monaco editor in the selection service and sets the position-tracking-service to the active transformer. The onDidBlurEditorWidget event sets the editor reference to null if the selection service references this monaco editor. The onDidChangeCursorSelection event notifies the subscribers of the selection-service of any selection changes if the selection service references this monaco editor.\n\nAdditionally, the ResultsViewTab component includes a ResultsViewContextMenu component that is placed on top of the monaco editor. The ResultsViewContextMenu component monitors the position-tracking service for changes to the currently selected text-fragment. When this changes, the key value is updated and the text is retrieved from the result-cache and shown in the monaco editor.", "ResultsViewContextMenu": "- The ResultsViewContextMenu component is placed on top of the monaco editor.\n- The component monitors the position-tracking service for changes to the currently selected text-fragment.\n- When the selected text-fragment changes, the key value is updated.\n- The text for the monaco editor is retrieved from the result-cache using the updated key.\n- The retrieved text is shown in the monaco editor."}
# MarkdownCode > components > toolbar > home > edit section
{"EditSection": "- The edit-section component has actions related to clipboard and selected data.\n- Buttons in the component use icons instead of text.\n- Supported actions include:\n  - Cut: initiates the cut command of the selection service. Enabled when there is selected data.\n  - Copy: initiates the copy command of the selection service. Enabled when there is selected data.\n  - Paste: initiates the paste command of the selection service. Enabled when there is text data in the clipboard. Uses the BiPaste icon from react-icons. Retrieves the data to be pasted using `clipboard.readText()`.\n  - Delete: initiates the delete command of the selection service. Enabled when there is selected data.\n  - Select all: selects all text in the active window.\n  - Clear selection: clears the current selection buffer. Enabled when there is selected data.\n- To check if the clipboard contains text data:\n  - Use the clipboard imported from electron.\n  - Call `clipboard.has('text/plain')` when the component is loaded or when the ipcRenderer emits the 'focused' event."}
# MarkdownCode > components > body
{"Body": "Features related to the UI component 'Body':\n\n1. The main body of the application is represented by the body component.\n2. The body component utilizes the @geoffcox/react-splitter library's Split component.\n3. The entire area of the body component is filled with a Split component.\n4. The initial size of the primary split in the body component is set to the value of verticalSplitSize in the state.\n5. The minimum size of the primary split in the body component is set to '50px'.\n6. The minimum size of the secondary split in the body component is set to '15%'.\n7. The children of the body component are an outline component and a Split component.\n8. The initial size of the primary split in the Split component (inside the body component) is set to the value of horizontalSplitSize in the state.\n9. The minimum size of the primary split in the Split component (inside the body component) is set to '50px'.\n10. The minimum size of the secondary split in the Split component (inside the body component) is set to '15%'.\n11. The Split component (inside the body component) is set to be horizontal.\n12. The children of the Split component (inside the body component) are an editor component and a results view component.\n13. The body component has an event handler for the 'onSplitChanged' callback of both the horizontal and vertical split. It stores the new position value (as a percentage) in the state (verticalSplitSize / horizontalSplitSize).\n14. When the body component is unloaded, the last position of the horizontal and vertical splitters are stored in the local storage.\n15. When the body component is loaded, the last position of the horizontal and vertical splitters are restored from the local storage. If no value is found, the default value of '30%' is used.", "Outline": "Outline:\n- The children of the body component are an outline component and a Split component.\n- The initial size of the primary split in the Split component is set to the value of horizontalSplitSize in the state.\n- The minimum size of the primary split is set to '50px'.\n- The minimum size of the secondary split is set to '15%'.", "Editor": "- The Editor component is a child of the Split component in the body component.\n- The Editor component is responsible for displaying and editing content.\n- The Editor component has its initial size set to the value of horizontalSplitSize in the state.\n- The Editor component has a minimum size of '50px'.\n- The Editor component is displayed horizontally within the Split component.", "ResultsView": "ResultsView:\n- The ResultsView component is a child of the Split component in the body component.\n- The ResultsView component is responsible for displaying the results of a task or operation.\n- The ResultsView component receives data from the application and renders it in a visually appealing and user-friendly manner.\n- The ResultsView component may include features such as pagination, sorting, filtering, and exporting of results.\n- The ResultsView component may have customizable columns and column widths.\n- The ResultsView component may support different types of result data, such as text, images, tables, or charts.\n- The ResultsView component may have interactive elements, such as clickable rows or buttons for performing actions on the results.\n- The ResultsView component may have options for customizing the appearance and behavior of the results, such as changing the color scheme or enabling/disabling certain features.\n- The ResultsView component may provide options for exporting the results to different file formats, such as CSV or PDF.\n- The ResultsView component may have built-in functionality for handling large datasets efficiently, such as virtual scrolling or lazy loading."}
# MarkdownCode > components > body > results view > results view context menu
{"ResultsViewContextMenu": "- The ResultsViewContextMenu is a component that wraps the Dropdown antd component.\n- It requires the properties 'transformer' and 'key' to be provided.\n- The dropdown's content consists of a 'more' button icon, and it is triggered by a click.\n- The 'more' button is positioned as a floating button in the top-right corner of the parent, using absolute positioning with top: 0 and right: 16.\n- The menu contains the following items:\n  - \"Model for all\": Allows the selection of a GPT model to be used by the transformer.\n    - The submenu items are provided by the gpt-service's list of available models, fetched from the internet.\n    - The currently selected model is indicated as selected.\n      - The value for the current model, registered for the current transformer, is obtained from the gpt-service using `gptService.getModelForFragment(transformer)`.\n    - When a different model is selected, the gpt-service is asked to update the model name used for the transformer using `gptService.setModelForFragment(model, transformer)`.\n  - \"Model for fragment\": Allows the selection of a GPT model to be used by the transformer for the current key.\n    - The submenu items are provided by the gpt-service's list of available models.\n    - The currently selected model is indicated as selected.\n      - The value for the current model, registered under the name of the current transformer and key, is obtained from the gpt-service using `gptService.setModelForFragment(transformer, key)`.\n    - When a different model is selected, the gpt-service is asked to update the model name of the transformer and the current title using `gptService.setModelForFragment(model, transformer, key)`.\n  - A splitter.\n  - \"Refresh\": When pressed, the transformer associated with the current tab recalculates the result."}
# MarkdownCode > components > toolbar > home > file section
{"FileSection": "Features related to the FileSection component:\n- Actions for project and file management\n- Buttons with icons instead of text\n- Supported actions:\n  - New Project: creates a new project\n    - Prompt to save unsaved changes in the loaded project\n    - Call the storage service to create a new project\n  - Open: opens an existing project\n    - Show a dialog box to select a file\n    - Ask the storage service to open the selected file\n    - Handle errors with an error dialog\n  - Save: saves the current project to a file\n    - Enabled when the project has a filename and unsaved changes\n    - Show a save-as dialog if the project doesn't have a filename\n    - Call the storage service to save the project\n    - Handle errors with an error dialog\n  - Save As: saves the current project to a new location\n    - Enabled when there are unsaved changes\n    - Show a save-as dialog\n    - Ask the storage service to save the project to the new location\n    - Handle errors with an error dialog\n  - Auto-Save: a toggle button that updates the auto-save state in the project service\n    - The toggle button's state reflects the project service's auto-save state\n- Monitoring the project service for changes to update button states"}
# MarkdownCode > components > body > editor
{"Editor": "- The editor component uses the monaco editor npm package to display markdown text.\n- When the editor is loaded, it retrieves the text from the project service and applies the theme, font, and font-size from the theme service.\n- The editor will reload the text whenever the project service triggers the 'content-changed' event.\n- The position-tracking service will move the editor to the specified line when the 'moveTo' event is raised.\n- The component subscribes to the theme service for changes and updates the editor options accordingly.\n- The component monitors various events on the monaco editor, such as model content changes, focus, blur, cursor position changes, and cursor selection changes.\n- The monaco editor always occupies all available space."}
# MarkdownCode > components > body > results view
{"ResultsView": "- ResultsView is a UI component positioned at the bottom of the main body.\n- Users can view results generated by registered transformers for the selected text block.\n- Tabs are placed at the top of the results view with a small size and tabBarStyle={{marginTop: 0}}.\n- Each transformer in the transformers list creates a tab with the transformer name as the title and key.\n- The tab content displays a ResultsViewTab component.\n- When a tab is selected, `positionTrackingService.setActiveTransformer(transformer)` is executed.\n- On initialization, the first tab is selected and `positionTrackingService.setActiveTransformer(transformer)` is called for the correct transformer.\n- Create a JSON structure for all the tabs with fields: key, label, children.\n- Assign the JSON structure to the items property.", "ResultsViewTab": "{\n  \"key\": \"ResultsViewTab\",\n  \"label\": \"Results View Tab\",\n  \"children\": [\n    {\n      \"key\": \"position\",\n      \"label\": \"Position\",\n      \"children\": [\n        {\n          \"key\": \"positioning\",\n          \"label\": \"Positioning\",\n          \"children\": [\n            {\n              \"key\": \"positionedAtBottom\",\n              \"label\": \"Positioned at Bottom\"\n            }\n          ]\n        }\n      ]\n    },\n    {\n      \"key\": \"viewingResults\",\n      \"label\": \"Viewing Results\",\n      \"children\": [\n        {\n          \"key\": \"viewingGeneratedResults\",\n          \"label\": \"Viewing Generated Results\"\n        }\n      ]\n    },\n    {\n      \"key\": \"tabs\",\n      \"label\": \"Tabs\",\n      \"children\": [\n        {\n          \"key\": \"tabPlacement\",\n          \"label\": \"Tab Placement\",\n          \"children\": [\n            {\n              \"key\": \"tabsAtTop\",\n              \"label\": \"Tabs at Top\"\n            }\n          ]\n        },\n        {\n          \"key\": \"tabSize\",\n          \"label\": \"Tab Size\",\n          \"children\": [\n            {\n              \"key\": \"smallSize\",\n              \"label\": \"Small Size\"\n            }\n          ]\n        },\n        {\n          \"key\": \"tabStyle\",\n          \"label\": \"Tab Style\",\n          \"children\": [\n            {\n              \"key\": \"tabBarStyle\",\n              \"label\": \"Tab Bar Style\",\n              \"children\": [\n                {\n                  \"key\": \"marginTop\",\n                  \"label"}
# MarkdownCode > components > toolbar > transformers > build section
{"BuildSection": "- The build-section component contains actions for the build-service.\n- Buttons have icons instead of text.\n- Buttons have tooltips with detailed descriptions.\n- Actions in the build-section component include:\n  - \"All\" button: Renders all code for the project.\n    - Disabled when no fragment is out of date.\n    - Calls build-service.buildAll().\n  - \"Code for active fragment\" button: Renders code files for the active fragment.\n    - Disabled when the active fragment is not out of date.\n    - Calls build-service.buildFragment() with the active fragment.\n  - \"Active fragment with active transformer\" button: Renders the result for the active fragment and transformer.\n    - Disabled when there is no active fragment or active transformer.\n    - Calls build-service.runTransformer() with the active fragment and transformer.\n  - Separator with vertical type and height of 24px.\n  - \"Debug\" toggle button: Updates the debug state in the build-service.\n    - The button's state follows the build-service's debug state.\n  - \"Run next\" button: Continues rendering to the next transformer.\n    - Disabled when debug is not enabled.\n- Button disabled values are stored in the state for updating from event handlers.\n- Button states are initialized on load.\n- Event handlers are registered to monitor changes in the project-service and position-tracking service.\n- Event handlers are unregistered on unload."}
# MarkdownCode > components > toolbar > transformers
{"TransformersTab": "- The TransformersTab component arranges its children in a horizontal row.\n- It includes the ConfigurationSection component as a child component.\n- It includes the BuildSection component as a child component.", "ConfigurationSection": "- ConfigurationSection is a child component of the transformers-tab component.", "BuildSection": "- The BuildSection component is a child component of the TransformersTab component.\n- The BuildSection component is displayed as part of the TransformersTab component.\n- The BuildSection component is positioned alongside the ConfigurationSection component within the TransformersTab component.\n- The BuildSection component is visually distinct from other components within the TransformersTab component.\n- The BuildSection component contains specific functionality related to building or compiling.\n- The BuildSection component may include buttons or controls for initiating the build process.\n- The BuildSection component may display progress or status information during the build process.\n- The BuildSection component may provide options or settings for customizing the build process.\n- The BuildSection component"}
# MarkdownCode > components > toolbar > transformers > transformers-configuration section
{"ConfigurationSection": "- ConfigurationSection contains actions related to the available transformers in the application.\n- All buttons in ConfigurationSection have tooltips with action descriptions.\n- Edit transformers: Opens a new window of the markdownCode editor in plugin-mode, using the specified project path. Calls the function `window.electron.openPluginEditor(folderService.plugins)`. Disabled when `window.electron.isPluginMode == true`.\n- Active entry point: A dropdown list populated with the names of transformers found in `cybertronService.entryPoints`. The selected item in the dropdown list is from `cyberTronService.activeEntryPoint`. This field is updated whenever the selection changes in the dropdown list."}
# MarkdownCode > components > body > results view > transformer-status icon
{"TransformerStatusIcon": "- The TransformerStatusIcon component indicates the status of the selected text-fragment object in relation to the assigned transformer.\n- The component requires the \"transformer\" property from consumers, which is a reference to the transformer object for which status info is displayed.\n- Upon construction, the component registers event handlers with the position-tracking-service and project-service to handle specific events.\n- The component displays different states based on the status of the active fragment:\n  - \"building\" state: shows a spin component when the active fragment is building.\n  - \"overwritten\" state: uses the LuType icon when the active fragment is overwritten or out of date.\n  - \"rendered\" state: uses the MdAutoFixNormal icon when the active fragment is rendered and not out of date.\n  - \"not yet rendered\" state: uses the LuArrowDownToDot icon when the active fragment has no result.\n- The component includes a tooltip to display the status."}
# MarkdownCode > components > body > fragment-status icon
{"FragmentStatusIcon": "- The FragmentStatusIcon component displays the status of a text-fragment object.\n- It requires the following properties:\n  - fragment: a reference to the text-fragment object\n- The icon displayed depends on the value of `fragment?.depth`:\n  - 1: LuHeading1\n  - 2: LuHeading2\n  - ...\n  - 6 or more: LuHeading6\n- If `fragment?.isBuilding` is true, a spin component is shown instead of an icon.\n- The icons LuHeading1, LuHeading2, LuHeading3, LuHeading4, LuHeading5, LuHeading6 are imported from the 'react-icons/lu' library.\n- The render function selects the icon based on the state 'depth'.\n- The component includes a tooltip from the antd library to show the status.\n- The color of the icon depends on the following conditions:\n  - green if `!fragment?.isOutOfDate`\n  - orange if `fragment?.isOutOfDate && fragment?.outOfDateTransformers?.length > 0`\n  - red if `fragment?.isOutOfDate && !(fragment?.outOfDateTransformers?.length > 0)`\n- Upon construction, the component registers event handlers with the project-service (prop: eventTarget) for the following events:\n  - `fragment-out-of-date`: refreshes the icon color and tooltip content if `e.detail === fragment?.key`\n  - `key-changed`: refreshes the icon based on the new value of `fragment?.depth` if `e.detail?.key === fragment?.key`\n  - `fragment-building`: sets the icon to null to show the spinner if `e.detail?.fragment?.key === fragment?.key`\n  - `fragment-up-to-date`: refreshes the icon, tooltip, and color if `e.detail === fragment?.key`"}
